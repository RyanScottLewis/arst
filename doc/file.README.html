<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>
  File: README
  
    &mdash; Documentation by YARD 0.8.7.4
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!file.README.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><div id='filecontents'>
<h1 id="label-ARST">ARST</h1>

<p>ARST is a language syntax denoting the object domain model of a Ruby
project and a polyglot source code generator.</p>

<p>ARST files can be used to generate:</p>
<ul><li>
<p>Pure Ruby code</p>
</li><li><ul><li>
<p>To quickly generate source files for gems or projects.</p>
</li></ul>
</li><li><ul><li>
<p>To map out the domain model of the objects for new or proposed projects.</p>
</li></ul>
</li><li>
<p>Tests</p>
</li><li><ul><li>
<p>Bootstrap RSpec, Test::Unit, MiniTest::Unit, or MiniTest::Spec files based
on your current codebase.</p>
</li></ul>
</li><li>
<p>Ruby extensions</p>
</li><li><ul><li>
<p>Bootstrap C, Java, or MRuby specific code.</p>
</li></ul>
</li><li>
<p>GraphViz graphs</p>
</li><li><ul><li>
<p>Map out the domain model of your project.</p>
</li></ul>
</li><li>
<p>Custom output</p>
</li><li><ul><li>
<p>Create your own generators.</p>
</li></ul>
</li></ul>

<p>ARST files can also be generated which allows all of the above an already
existing projects.</p>

<p>Integrations:</p>
<ul><li>
<p>Rake (baked in)</p>
</li><li><ul><li>
<p>Rake commands to generate files based on an ARST file or generate an ARST
files based on project files.</p>
</li></ul>
</li><li>
<p><a href="https://github.com/RyanScottLewis/guard-arst">Guard</a></p>
</li><li><ul><li>
<p>Regenerate the ARST file whenever a project or test file is changed.</p>
</li></ul>
</li><li><ul><li>
<p>Generate methods or tests whenever the ARST file is changed.</p>
</li></ul>
</li><li>
<p><a href="https://github.com/RyanScottLewis/arst-rails">Rails</a></p>
</li><li><ul><li>
<p>Generate ARST files from Rails projects.</p>
</li></ul>
</li></ul>

<p>Generators:</p>
<ul><li>
<p>ARST::Generator::Ruby (baked in)</p>
</li><li>
<p>ARST::Generator::C (baked in)</p>
</li><li>
<p><a
href="https://github.com/RyanScottLewis/arst-generator-java">ARST::Generator::Java</a></p>
</li><li>
<p><a
href="https://github.com/RyanScottLewis/arst-generator-mruby">ARST::Generator::MRuby</a></p>
</li><li>
<p><a
href="https://github.com/RyanScottLewis/arst-generator-rspec">ARST::Generator::RSpec</a></p>
</li><li>
<p><a
href="https://github.com/RyanScottLewis/arst-generator-test-unit">ARST::Generator::Test::Unit</a></p>
</li><li>
<p><a
href="https://github.com/RyanScottLewis/arst-generator-minitest-unit">ARST::Generator::MiniTest::Unit</a></p>
</li><li>
<p><a
href="https://github.com/RyanScottLewis/arst-generator-minitest-spec">ARST::Generator::MiniTest::Spec</a></p>
</li><li>
<p><a
href="https://github.com/RyanScottLewis/arst-generator-graphviz">ARST::Generator::Graphviz</a></p>
</li></ul>

<h2 id="label-Install">Install</h2>

<h3 id="label-Bundler%3A+gem+%27arst%27+in+group+%3Adevelopment">Bundler: <code>gem &#39;arst&#39;</code> in <code>group :development</code></h3>

<h3 id="label-RubyGems%3A+gem+install+arst">RubyGems: <code>gem install arst</code></h3>

<h2 id="label-Syntax">Syntax</h2>

<h3 id="label-Ruby">Ruby</h3>

<p>ARST syntax implements most keywords and declarations of the Ruby
language&#39;s syntax. This means that most syntax highlighters for Ruby
will also work for ARST.</p>

<p><strong>Valid Ruby syntax within ARST:</strong></p>
<ul><li>
<p><code>module ModuleName</code></p>
</li><li>
<p><code>class ClassName &lt; SuperClassName</code></p>
</li><li>
<p><code>include ModuleName</code></p>
</li><li>
<p><code>extend ModuleName</code></p>
</li></ul>

<p><strong>Not Yet Implemented:</strong></p>
<ul><li>
<p><code>def instance_method(arg1, *other_args)</code> (and anything else
accepted method arguments in Ruby&#39;s syntax)</p>
</li><li>
<p><code>def self.class_method(arg1, opts={})</code> (and anything else
accepted method arguments in Ruby&#39;s syntax)</p>
</li><li>
<p><code>alias</code> and <code>alias_method</code></p>
</li><li>
<p><code>alias_module</code> which generate <code>NewClassName =
OldClassName</code></p>
</li></ul>

<h3 id="label-Indentation">Indentation</h3>

<p>ARST is an indentation-sensitive syntax meaning that the following are
<strong>not</strong> equivalent:</p>
<table width="100%"><tr><td>
<pre class="code ruby"><code class="ruby">
module Foo
  module Bar
</code></pre>
</td><td>
<pre class="code ruby"><code class="ruby">
module Foo
module Bar
</code></pre>
</td></tr></table>
<p>The parser reads line by line, comparing the current line&#39;s indentation
with the last parsed line&#39;s indentation and scope.<br> This allows it
to be loose in regards to how it interprets indentation:</p>

<pre class="code ruby"><code class="ruby">If the current line contains a `module` or `class` node
  And it is more indented than the last `module` or `class` node
    And the last line contains a `module` or `class` node
      Then the node will be contained within the last line&#39;s scope
    And the last line does not contain a `module` or `class` node
      Then the node will be contained within the current scope
  And it is the same indentation
    Then the node will be contained within the current scope
  And it is less indented than the last
    Then the node will be contained within the outer scope
If the current line does not contain a `module` or `class` node
  Then the node will be contained within the current scope</code></pre>

<p>Below is an example of oddly indented (but still valid) ARST code.</p>
<table width="100%" markdown="1"><tr markdown="1"><td markdown="1">

**ARST**

    module Foo
      class Bar
           def self.a
             attr_reader :b
               module Zed
        module Qux
      module Baz

</td><td markdown="1">

**Parsed Indentation**

    module Foo
    |- class Bar
    |  |- def self.a
    |  |- attr_reader :b
    |  |- module Zed
    |- class Baz

</td></tr></table>
<p>It&#39;s very recommended to maintain consistant indentation throughout the
document:</p>

<pre class="code ruby"><code class="ruby">module Foo
  class Bar
    def self.a
    attr_reader :b
    module Zed
    module Qux
  module Baz
</code></pre>

<h2 id="label-Usage">Usage</h2>

<h3 id="label-Constructing+ARST+file">Constructing ARST file</h3>

<p>The first step is to create an ARST file within your project. There is no
convention as to where to place or name this file.</p>

<p>For projects, I tend to use a single <code>.arst</code> in the root
directory of the project.<br> When maintaining a projects with multiple
subprojects, I&#39;ll use <code>project_one.arst</code> and
<code>project_two.arst</code> in the directory containing those project
directories.</p>

<p><code>stupid_record.arst</code></p>

<pre class="code ruby"><code class="ruby">module StupidModel
  module Validations
  module Callbacks
  module Serialization
    module ClassMethods
  class Base
    extend Callbacks
    include Validations
    include Serialization
module StupidRecord
  module Persistence
  class Base &lt; StupidModel::Base
    include Persistence
</code></pre>

<h3 id="label-Setup+Rake+task">Setup Rake task</h3>

<p><code>Rakefile</code></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>arst/rake_task</span><span class='tstring_end'>&#39;</span></span>

<span class='const'>ARST</span><span class='op'>::</span><span class='const'>RakeTask</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
  <span class='comment'># Define a generate task
</span>  <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_generate'>generate</span><span class='lparen'>(</span><span class='label'>name:</span> <span class='symbol'>:stupid_model</span><span class='comma'>,</span> <span class='label'>generator:</span> <span class='symbol'>:ruby</span><span class='comma'>,</span> <span class='label'>input_path:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stupid_record.arst</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>output_path:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>lib</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</code></pre>

<p>By default, the name of the task defined is the same as the generator, but
in the example above, we named ours <code>:stupid_model</code>.<br> This
defines the <code>arst:stupid_model</code> Rake task.</p>

<p><code>:input_path</code> and <code>:output_path</code> are options on the
ARST::Generator::Ruby class.<br> Each generator has it&#39;s own set of
options and defaults.</p>

<h3 id="label-Generate+your+code">Generate your code</h3>

<h3 id="label-Ruby">Ruby</h3>

<p>Running <code>rake arst:stupid_model</code> will generate the following
files:</p>

<p><code>lib/stupid_model.rb</code></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stupid_model/base</span><span class='tstring_end'>&#39;</span></span>

<span class='kw'>module</span> <span class='const'>StupidModel</span>
<span class='kw'>end</span>
</code></pre>

<p><code>lib/stupid_model/validations.rb</code></p>

<pre class="code ruby"><code class="ruby"><span class='kw'>module</span> <span class='const'>StupidModel</span>
  <span class='kw'>module</span> <span class='const'>Validations</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p><code>lib/stupid_model/callbacks.rb</code></p>

<pre class="code ruby"><code class="ruby"><span class='kw'>module</span> <span class='const'>StupidModel</span>
  <span class='kw'>module</span> <span class='const'>Callbacks</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p><code>lib/stupid_model/serialization.rb</code></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stupid_model/serialization/class_methods</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stupid_model/serialization/instance_methods</span><span class='tstring_end'>&#39;</span></span>

<span class='kw'>module</span> <span class='const'>StupidModel</span>
  <span class='kw'>module</span> <span class='const'>Serialization</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p><code>lib/stupid_model/serialization/class_methods.rb</code></p>

<pre class="code ruby"><code class="ruby"><span class='kw'>module</span> <span class='const'>StupidModel</span>
  <span class='kw'>module</span> <span class='const'>Serialization</span>
    <span class='kw'>module</span> <span class='const'>ClassMethods</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p><code>lib/stupid_model/serialization/instance_methods.rb</code></p>

<pre class="code ruby"><code class="ruby"><span class='kw'>module</span> <span class='const'>StupidModel</span>
  <span class='kw'>module</span> <span class='const'>Serialization</span>
    <span class='kw'>module</span> <span class='const'>InstanceMethods</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p><code>lib/stupid_model/base.rb</code></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stupid_model/validations</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stupid_model/callbacks</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stupid_model/serialization</span><span class='tstring_end'>&#39;</span></span>

<span class='kw'>module</span> <span class='const'>StupidModel</span>
  <span class='kw'>class</span> <span class='const'>Base</span>
    <span class='id identifier rubyid_extend'>extend</span> <span class='const'>Callbacks</span>
    <span class='id identifier rubyid_include'>include</span> <span class='const'>Validations</span>
    <span class='id identifier rubyid_include'>include</span> <span class='const'>Serialization</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p><code>lib/stupid_record.rb</code></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stupid_record/base</span><span class='tstring_end'>&#39;</span></span>

<span class='kw'>module</span> <span class='const'>StupidRecord</span>
<span class='kw'>end</span>
</code></pre>

<p><code>lib/stupid_record/persistence.rb</code></p>

<pre class="code ruby"><code class="ruby"><span class='kw'>module</span> <span class='const'>StupidRecord</span>
  <span class='kw'>module</span> <span class='const'>Persistence</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p><code>lib/stupid_record/base.rb</code></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stupid_model/base</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stupid_record/persistence</span><span class='tstring_end'>&#39;</span></span>

<span class='kw'>module</span> <span class='const'>StupidRecord</span>
  <span class='kw'>class</span> <span class='const'>Base</span> <span class='op'>&lt;</span> <span class='const'>StupidModel</span><span class='op'>::</span><span class='const'>Base</span>
    <span class='id identifier rubyid_include'>include</span> <span class='const'>Persistence</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p>Now we&#39;re saving some typing!<br> This may not be exactly the code you
were looking to generate, but it&#39;s close enough to start working
quickly.</p>

<blockquote>
<p>Warning: When we generate the files, they are OVERWRITTEN. Meaning you WILL
LOSE CODE if the file already exists.<br> There are plans in the
<em>far</em> future for generating only missing nodes in the ARST and
removing code that is NOT within the ARST.</p>
</blockquote>

<h3 id="label-Requiring">Requiring</h3>

<p>The ARST Ruby generator attempts to be as smart about adding
<code>require</code> calls as possible.</p>

<p>A require call will be added when:</p>
<ul><li>
<p>A module includes any classes.</p>
</li><li>
<p>A class includes or extends a module.</p>
</li><li>
<p>A class subclasses another.</p>
</li></ul>

<h2 id="label-How+It+Works">How It Works</h2>

<p>ARST works by parsing ARST Notation or transforming a Ruby AST of a file or
project into an “Abstract Ruby Syntax Tree” which is a minimal version of
the Ruby AST. With this ARST, we can generate/modify Ruby or ARST files
based on this tree.</p>

<h3 id="label-ARST+Notation">ARST Notation</h3>

<p>ARST Notation (ARST-N) is the actual syntax that is contained within ARST
files.</p>

<h2 id="label-Copyright">Copyright</h2>

<p>Copyright © 2013 Ryan Scott Lewis <a
href="mailto:ryan@rynet.us">ryan@rynet.us</a>.</p>

<p>The MIT License (MIT) - See LICENSE for further details.</p>
</div></div>

    <div id="footer">
  Generated on Thu Sep 25 20:17:30 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-2.1.2).
</div>

  </body>
</html>